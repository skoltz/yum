<div class="full-page" style="background-color:#ffd000">
    <div class="fixed-action-btn horizontal" style="top: 25px; right: 24px; height: 50px;">
        <a class="btn-floating btn-large red">
          <i class="large material-icons" style="height: 50px;">?</i>
        </a>
        <ul>
          <li><a class="btn-floating red filter" id="pizza" style="background: url('../assets/HungryEyesNY-Pizza.jpg') center no-repeat; background-size: cover;"><i class="material-icons"></i></a></li>
          <li><a class="btn-floating yellow darken-1 filter" id="burger" style="background: url('../assets/eyes-burger.jpeg') center no-repeat; background-size: cover;"><i class="material-icons"><i class="material-icons"></i></a></li>
          <li><a class="btn-floating green filter" id="donut" style="background: url('../assets/eyes-donut.jpeg') center no-repeat; background-size: cover;"><i class="material-icons"><i class="material-icons"></i></a></li>
          <li><a class="btn-floating blue filter" id="icecream" style="background: url('../assets/eyes-icecream') center no-repeat; background-size: cover;"><i class="material-icons"></i></a></li>
          <li><a class="btn-floating reset" style="background-color:#df5496"><i class="material-icons">X</i></a></li>          
        </ul>
    </div>
<a href="/"><img src="../assets/eatwitheyes_y.png" style="height:110px; margin-left:18px;"></a>   

<div id='additional'>

</div>     

<div class="gridster">
    <ul>
        <% i = 1 %> 
        <% k = 0 %>
        <% z = [1, 2] %>
        <%@pic.each_slice(3) do |pics| %>
            <%pics.each do |p| %>

            <li class="gridster-cell <%=p.name%>" data-row="<%=k+1%>" data-col="<%=i%>" data-sizex="<%=z.sample%>" data-sizey="<%=z.sample%>" style="background: url(<%=p.image.url(:medium)%>) center no-repeat; border: solid 3px white; background-size: cover;"> <p class='info' style="color:white;">info</p>
                <div id='<%=p.id%>'style="display:none">
                    <p><%=p.restaurant%></p>
                    <p><%=p.address%></p>
                </div>
            </li>

            <% i+=1 %>
            <% end %>
        <% i = 1 %>
        <% k+=1 %>
        <% end %>     
    </ul>
</div>
<br>
<br>
<br>
<br>
<br>
<br>

<div id='out'>
    <div id='in'>
        <%= render 'form' %>
    </div>
</div>


<br> 
This is for filtering

<% name_array = [] %>

<%@pic.each do |pics|%>

<% name_array << pics.name %>
<%end%>

<table>
<tr>
<%name_array.uniq.each do |name|%>

<td><p class='filter' id="<%=name%>"><%=name%></p></td>

<%end%>
<td><p class='reset'> clear </p></td>
<td><p class="nofilter"> show/hide</p></td>
</tr>
</table>

<br>

<div style="background-color:#ffd000">
    <a class="btn-floating btn-large waves-effect waves-light red" style="float:right; margin-right:26px"><i class="material-icons formicon">+</i></a>
</div>
</div>

<script>
    $('.filter').click(function(){
        var imageClass = this.id
            $('.gridster-cell').hide()
            $('.'+imageClass).show()
    });

    $('.nofilter').click(function(){
        if ($('.filter').is(":visible")){
            $('.filter').hide()
            $('.reset').hide()

        } else {
            $('.filter').show()
            $('.reset').show()
        }
    });

    $('.reset').click(function(){
        $('.gridster-cell').show()
    })

    $('.info').click(function(){
        
        var name = $(this).siblings('div').children('p')[0].innerHTML
        var address =  $(this).siblings('div').children('p')[1].innerHTML
        
        name += "\n "+address
       
        alert(name)
    })

    $('.formicon').click(function(){
        $('#in').toggle()
    })

    $('#additional').hide()

    $('.info').mouseover(function(){
        var name = $(this).siblings('div').children('p')[0].innerHTML
        var address =  $(this).siblings('div').children('p')[1].innerHTML
        name += "\n "+address
        
        $('#additional').slideDown(function(){
           $('#additional').append(name) 
        })

        .mouseout(function(){
            $('#additional').hide()
            $('#additional').empty()

        }) 

    })





</script>

